{"ast":null,"code":"import _slicedToArray from\"C:/Users/Daniel/Desktop/DGS web/DGS-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";/* eslint-disable jsx-a11y/anchor-is-valid */import React,{useEffect,useState}from'react';import{db}from'../../../firebase';import{collection,deleteDoc,doc,onSnapshot,orderBy,query,setDoc}from\"@firebase/firestore\";import Card from'./Card';import'./Card.css';import{Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function News(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),posts=_useState2[0],setPosts=_useState2[1];var _useState3=useState(1),_useState4=_slicedToArray(_useState3,2),pagenum=_useState4[0],setPageNum=_useState4[1];useEffect(function(){return onSnapshot(query(collection(db,'posts'),orderBy('timestamp','desc')),function(snapshot){setPosts(snapshot.docs);});},[db]);var pagesChange=function pagesChange(x,page_size){if(x===1&&pagenum*page_size>=posts.length)return;else if(x===1){setPageNum(pagenum+1);}else if(x===-1&&pagenum===1)return;else if(x===-1){setPageNum(pagenum-1);}};function paginate(array,page_size,page_number){// human-readable page numbers usually start with 1, so we reduce 1 in the first argument\nreturn array.slice((page_number-1)*page_size,page_number*page_size);}return/*#__PURE__*/_jsxs(\"div\",{className:\"news\",children:[posts&&paginate(posts,5,pagenum).map(function(post){return/*#__PURE__*/_jsxs(Link,{to:\"/news/subpage/?id=\".concat(post.id),style:{textDecoration:'none'},children:[\" \",/*#__PURE__*/_jsx(Card,{id:post.id,post:post.data()},post.id)]},post.id);}),/*#__PURE__*/_jsx(\"nav\",{\"aria-label\":\"Page navigation example\",children:/*#__PURE__*/_jsxs(\"ul\",{className:\"pagination\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"page-item\",children:/*#__PURE__*/_jsx(Link,{className:\"page-link\",to:\"/news/?\".concat(pagenum),onClick:function onClick(){return pagesChange(-1,5);},children:\"Previous\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"page-item\",children:/*#__PURE__*/_jsx(Link,{className:\"page-link\",to:\"/news/?\".concat(pagenum),onClick:function onClick(){return pagesChange(1,5);},children:\"Next\"})})]})})]});}export default News;","map":{"version":3,"sources":["C:/Users/Daniel/Desktop/DGS web/DGS-web/src/components/Home/pages/NewsPost.js"],"names":["React","useEffect","useState","db","collection","deleteDoc","doc","onSnapshot","orderBy","query","setDoc","Card","Link","News","posts","setPosts","pagenum","setPageNum","snapshot","docs","pagesChange","x","page_size","length","paginate","array","page_number","slice","map","post","id","textDecoration","data"],"mappings":"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","sourcesContent":["/* eslint-disable jsx-a11y/anchor-is-valid */\r\nimport React, {useEffect, useState} from 'react'\r\nimport { db } from '../../../firebase'\r\nimport {\r\n  collection,\r\n  deleteDoc,\r\n  doc,\r\n  onSnapshot,\r\n  orderBy,\r\n  query,\r\n  setDoc,\r\n} from \"@firebase/firestore\";\r\nimport Card from './Card';\r\nimport './Card.css'\r\nimport { Link } from 'react-router-dom';\r\n\r\n\r\n\r\n\r\nfunction News() {\r\n  const [posts, setPosts] = useState([]);\r\n  const [pagenum, setPageNum] = useState(1);\r\n  useEffect(() => \r\n     onSnapshot(query(collection(db, 'posts'), orderBy('timestamp', 'desc')),  (snapshot) => {\r\n       setPosts(snapshot.docs)\r\n      }),\r\n  [db]);\r\n\r\n  const pagesChange = (x, page_size) => {\r\n    if(x === 1 && pagenum * page_size >= posts.length)return;\r\n    else if(x === 1){\r\n      setPageNum(pagenum + 1);\r\n    }\r\n    else if(x === -1 && pagenum === 1)return\r\n    else if(x === -1) {\r\n      setPageNum(pagenum - 1);\r\n    }\r\n  }\r\n  \r\n  function paginate(array, page_size, page_number) {\r\n    // human-readable page numbers usually start with 1, so we reduce 1 in the first argument\r\n    return array.slice((page_number - 1) * page_size, page_number * page_size);\r\n  }\r\n  \r\n  return (\r\n    \r\n    <div className=\"news\">\r\n      {posts && paginate(posts, 5, pagenum).map((post) => \r\n      <Link to={`/news/subpage/?id=${post.id}`} style={{textDecoration : 'none'}} key={post.id}> <Card id={post.id} post={post.data()} key={post.id} /></Link>\r\n      )}\r\n    <nav aria-label=\"Page navigation example\">  \r\n       <ul className=\"pagination\">\r\n        <li className=\"page-item\"><Link className=\"page-link\" to={`/news/?${pagenum}`} onClick={() => pagesChange(-1, 5)}>Previous</Link></li>\r\n        <li className=\"page-item\"><Link className=\"page-link\" to={`/news/?${pagenum}`} onClick={() => pagesChange(1, 5)}>Next</Link></li>\r\n      </ul>\r\n      </nav>\r\n    </div>\r\n  \r\n  )\r\n}\r\n\r\nexport default News"]},"metadata":{},"sourceType":"module"}